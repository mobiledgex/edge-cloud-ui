{"ast":null,"code":"import _classCallCheck from \"/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kyungjoon/react_pjt/edge-cloud-ui/src/sites/siteFour_page_organization.js\";\nimport React from 'react';\nimport { Grid, Image, Header, Menu, Dropdown, Button } from 'semantic-ui-react';\nimport sizeMe from 'react-sizeme';\nimport DeveloperListView from '../container/developerListView';\nimport { withRouter } from 'react-router-dom';\nimport MaterialIcon from 'material-icons-react'; //redux\n\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport * as services from '../services/service_compute_service';\nimport './siteThree.css';\nimport MapWithListView from \"./siteFour_page_six\";\nimport Alert from \"react-s-alert\";\nvar devOptions = [{\n  key: 'af',\n  value: 'af',\n  text: 'SK Telecom'\n}];\nvar _self = null;\n\nvar SiteFourPageOrganization =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SiteFourPageOrganization, _React$Component);\n\n  function SiteFourPageOrganization(props) {\n    var _this;\n\n    _classCallCheck(this, SiteFourPageOrganization);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SiteFourPageOrganization).call(this, props));\n\n    _this.handleItemClick = function (e, _ref) {\n      var name = _ref.name;\n      return _this.setState({\n        activeItem: name\n      });\n    };\n\n    _this.receiveResult = function (result, resource, self) {\n      console.log(\"resultresultresultresult\", result); // @inki if data has expired token\n\n      if (result.error && result.error.indexOf('Expired') > -1) {\n        _self.props.handleAlertInfo('error', result.error);\n\n        setTimeout(function () {\n          return _self.gotoUrl('/logout');\n        }, 4000);\n\n        _self.props.handleLoadingSpinner(false);\n\n        return;\n      }\n\n      if (result.length == 0) {\n        _self.setState({\n          devData: []\n        });\n\n        _self.props.handleDataExist(false);\n\n        _self.props.handleAlertInfo('error', 'There is no data'); //setTimeout(()=>_self.gotoPreview('/site4', 'pg=newOrg'), 2000)\n        // _self.gotoUrl('/site4', 'pg=newOrg')  /* CreatOrg 자동 연결... */\n\n      } else {\n        _self.setState({\n          devData: result\n        });\n\n        _self.props.handleDataExist(true); // if(result.length === 0) {\n        //     _self.gotoUrl('/site4', 'pg=newOrg')\n        // } else {\n        //     _self.setState({devData:result})\n        // }\n\n      }\n\n      _self.props.handleLoadingSpinner(false);\n    };\n\n    _this.receiveAdminInfo = function (result) {\n      _this.props.handleRoleInfo(result.data);\n\n      if (result.error) {} else {\n        result.data.map(function (item, i) {\n          if (item.role.indexOf('Admin') > -1) {\n            _this.props.handleUserRole(item.role);\n\n            localStorage.setItem('selectRole', item.role);\n          }\n        });\n      }\n    };\n\n    _self = _assertThisInitialized(_this);\n    _this.state = {\n      shouldShowBox: true,\n      shouldShowCircle: false,\n      contHeight: 0,\n      contWidth: 0,\n      bodyHeight: 0,\n      activeItem: 'Developers',\n      devData: [],\n      liveComp: false\n    };\n    _this.headerH = 70;\n    _this.hgap = 0;\n    _this.headerLayout = [2, 2, 3, 3, 6]; //this.hideHeader = ['Address','Phone']\n\n    return _this;\n  }\n\n  _createClass(SiteFourPageOrganization, [{\n    key: \"gotoUrl\",\n    value: function gotoUrl(site, subPath) {\n      var mainPath = site;\n\n      _self.props.history.push({\n        pathname: site,\n        search: subPath\n      });\n\n      _self.props.history.location.search = subPath;\n\n      _self.props.handleChangeSite({\n        mainPath: mainPath,\n        subPath: subPath\n      });\n    } //go to\n\n  }, {\n    key: \"gotoPreview\",\n    value: function gotoPreview(site, page) {\n      //브라우져 입력창에 주소 기록\n      var mainPath = site;\n      var subPath = page;\n\n      _self.props.history.push({\n        pathname: mainPath,\n        search: subPath,\n        state: {\n          some: 'state'\n        }\n      });\n\n      _self.props.history.location.search = subPath;\n    }\n  }, {\n    key: \"onHandleRegistry\",\n    value: function onHandleRegistry() {\n      this.props.handleInjectDeveloper('userInfo');\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.setState({\n        bodyHeight: window.innerHeight - this.headerH\n      });\n      this.setState({\n        contHeight: (window.innerHeight - this.headerH) / 2 - this.hgap\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var store = localStorage.PROJECT_INIT ? JSON.parse(localStorage.PROJECT_INIT) : null;\n      if (store && store.userToken) this.getDataDeveloper(store.userToken);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.setState({\n        liveComp: false\n      });\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      // if(!this.state.liveComp) {\n      //     return;\n      // }\n      this.setState({\n        bodyHeight: window.innerHeight - this.headerH\n      });\n      this.setState({\n        contHeight: (nextProps.size.height - this.headerH) / 2 - this.hgap\n      });\n\n      if (nextProps.computeRefresh.compute) {\n        var store = localStorage.PROJECT_INIT ? JSON.parse(localStorage.PROJECT_INIT) : null;\n        if (store && store.userToken) this.getDataDeveloper(store.userToken);\n        this.props.handleComputeRefresh(false);\n      }\n    }\n  }, {\n    key: \"getDataDeveloper\",\n    value: function getDataDeveloper(token) {\n      var store = localStorage.PROJECT_INIT ? JSON.parse(localStorage.PROJECT_INIT) : null;\n      services.getMCService('showOrg', {\n        token: store ? store.userToken : 'null'\n      }, _self.receiveResult);\n      services.getMCService('ShowRole', {\n        token: store ? store.userToken : 'null'\n      }, _self.receiveAdminInfo);\n\n      _self.props.handleLoadingSpinner(true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          shouldShowBox = _this$state.shouldShowBox,\n          shouldShowCircle = _this$state.shouldShowCircle;\n      var activeItem = this.state.activeItem;\n      return React.createElement(DeveloperListView, {\n        devData: this.state.devData,\n        headerLayout: this.headerLayout,\n        hideHeader: this.hideHeader,\n        siteId: \"Organization\",\n        dataRefresh: this.getDataDeveloper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }) // <DeveloperListView headerLayout={this.headerLayout}></DeveloperListView>\n      ;\n    }\n  }]);\n\n  return SiteFourPageOrganization;\n}(React.Component);\n\n;\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userToken: state.user.userToken ? state.userToken : null,\n    userInfo: state.user.user,\n    computeRefresh: state.computeRefresh ? state.computeRefresh : null\n  };\n};\n\nvar mapDispatchProps = function mapDispatchProps(dispatch) {\n  return {\n    handleChangeSite: function handleChangeSite(data) {\n      dispatch(actions.changeSite(data));\n    },\n    handleInjectData: function handleInjectData(data) {\n      dispatch(actions.injectData(data));\n    },\n    handleInjectDeveloper: function handleInjectDeveloper(data) {\n      dispatch(actions.registDeveloper(data));\n    },\n    handleComputeRefresh: function handleComputeRefresh(data) {\n      dispatch(actions.computeRefresh(data));\n    },\n    handleLoadingSpinner: function handleLoadingSpinner(data) {\n      dispatch(actions.loadingSpinner(data));\n    },\n    handleRoleInfo: function handleRoleInfo(data) {\n      dispatch(actions.roleInfo(data));\n    },\n    handleUserInfo: function handleUserInfo(data) {\n      dispatch(actions.userInfo(data));\n    },\n    handleAlertInfo: function handleAlertInfo(mode, msg) {\n      dispatch(actions.alertInfo(mode, msg));\n    },\n    handleDataExist: function handleDataExist(data) {\n      dispatch(actions.dataExist(data));\n    }\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(sizeMe({\n  monitorHeight: true\n})(SiteFourPageOrganization)));","map":{"version":3,"sources":["/Users/kyungjoon/react_pjt/edge-cloud-ui/src/sites/siteFour_page_organization.js"],"names":["React","Grid","Image","Header","Menu","Dropdown","Button","sizeMe","DeveloperListView","withRouter","MaterialIcon","connect","actions","services","MapWithListView","Alert","devOptions","key","value","text","_self","SiteFourPageOrganization","props","handleItemClick","e","name","setState","activeItem","receiveResult","result","resource","self","console","log","error","indexOf","handleAlertInfo","setTimeout","gotoUrl","handleLoadingSpinner","length","devData","handleDataExist","receiveAdminInfo","handleRoleInfo","data","map","item","i","role","handleUserRole","localStorage","setItem","state","shouldShowBox","shouldShowCircle","contHeight","contWidth","bodyHeight","liveComp","headerH","hgap","headerLayout","site","subPath","mainPath","history","push","pathname","search","location","handleChangeSite","page","some","handleInjectDeveloper","window","innerHeight","store","PROJECT_INIT","JSON","parse","userToken","getDataDeveloper","nextProps","size","height","computeRefresh","compute","handleComputeRefresh","token","getMCService","hideHeader","Component","mapStateToProps","user","userInfo","mapDispatchProps","dispatch","changeSite","handleInjectData","injectData","registDeveloper","loadingSpinner","roleInfo","handleUserInfo","mode","msg","alertInfo","dataExist","monitorHeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Grid, Image, Header, Menu, Dropdown, Button } from 'semantic-ui-react';\nimport sizeMe from 'react-sizeme';\nimport DeveloperListView from '../container/developerListView';\nimport { withRouter } from 'react-router-dom';\nimport MaterialIcon from 'material-icons-react';\n//redux\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\n\nimport * as services from '../services/service_compute_service';\nimport './siteThree.css';\nimport MapWithListView from \"./siteFour_page_six\";\nimport Alert from \"react-s-alert\";\n\n\nlet devOptions = [ { key: 'af', value: 'af', text: 'SK Telecom' } ]\n\nlet _self = null;\nclass SiteFourPageOrganization extends React.Component {\n    constructor(props) {\n        super(props);\n        _self = this;\n        this.state = {\n            shouldShowBox: true,\n            shouldShowCircle: false,\n            contHeight:0,\n            contWidth:0,\n            bodyHeight:0,\n            activeItem: 'Developers',\n            devData:[],\n            liveComp:false\n        };\n        this.headerH = 70;\n        this.hgap = 0;\n        this.headerLayout = [2,2,3,3,6]\n        //this.hideHeader = ['Address','Phone']\n    }\n    gotoUrl(site, subPath) {\n        let mainPath = site;\n        _self.props.history.push({\n            pathname: site,\n            search: subPath\n        });\n        _self.props.history.location.search = subPath;\n        _self.props.handleChangeSite({mainPath:mainPath, subPath: subPath})\n    }\n    //go to\n    gotoPreview(site, page) {\n        //브라우져 입력창에 주소 기록\n        let mainPath = site;\n        let subPath = page;\n        _self.props.history.push({\n            pathname: mainPath,\n            search: subPath,\n            state: { some: 'state' }\n        });\n        _self.props.history.location.search = subPath;\n\n\n    }\n    handleItemClick = (e, { name }) => this.setState({ activeItem: name })\n\n    onHandleRegistry() {\n        this.props.handleInjectDeveloper('userInfo');\n    }\n    componentWillMount() {\n        this.setState({bodyHeight : (window.innerHeight - this.headerH)})\n        this.setState({contHeight:(window.innerHeight-this.headerH)/2 - this.hgap})\n    }\n    componentDidMount() {\n        let store = localStorage.PROJECT_INIT ? JSON.parse(localStorage.PROJECT_INIT) : null\n        if(store && store.userToken) this.getDataDeveloper(store.userToken);\n    }\n    componentWillUnmount() {\n\n        this.setState({liveComp:false})\n    }\n\n\n    componentWillReceiveProps(nextProps) {\n        // if(!this.state.liveComp) {\n        //     return;\n        // }\n        this.setState({bodyHeight : (window.innerHeight - this.headerH)})\n        this.setState({contHeight:(nextProps.size.height-this.headerH)/2 - this.hgap})\n\n        if(nextProps.computeRefresh.compute) {\n            let store = localStorage.PROJECT_INIT ? JSON.parse(localStorage.PROJECT_INIT) : null\n            if(store && store.userToken) this.getDataDeveloper(store.userToken);\n            this.props.handleComputeRefresh(false);\n        }\n\n    }\n    receiveResult = (result,resource, self) => {\n        console.log(\"resultresultresultresult\",result)\n\n        // @inki if data has expired token\n        if(result.error && result.error.indexOf('Expired')> -1) {\n            _self.props.handleAlertInfo('error', result.error);\n            setTimeout(() => _self.gotoUrl('/logout'), 4000);\n            _self.props.handleLoadingSpinner(false);\n            return;\n        }\n\n        if(result.length == 0) {\n            _self.setState({devData:[]})\n            _self.props.handleDataExist(false)\n            _self.props.handleAlertInfo('error','There is no data')\n            //setTimeout(()=>_self.gotoPreview('/site4', 'pg=newOrg'), 2000)\n            // _self.gotoUrl('/site4', 'pg=newOrg')  /* CreatOrg 자동 연결... */\n        } else {\n            _self.setState({devData:result})\n            _self.props.handleDataExist(true)\n            // if(result.length === 0) {\n            //     _self.gotoUrl('/site4', 'pg=newOrg')\n            // } else {\n            //     _self.setState({devData:result})\n            // }\n\n        }\n        _self.props.handleLoadingSpinner(false);\n    }\n    getDataDeveloper(token) {\n        let store = localStorage.PROJECT_INIT ? JSON.parse(localStorage.PROJECT_INIT) : null\n        services.getMCService('showOrg',{token:store ? store.userToken : 'null'}, _self.receiveResult)\n        services.getMCService('ShowRole',{token:store ? store.userToken : 'null'}, _self.receiveAdminInfo)\n        _self.props.handleLoadingSpinner(true);\n    }\n    receiveAdminInfo = (result) => {\n        this.props.handleRoleInfo(result.data)\n        if(result.error) {\n\n        } else {\n            result.data.map((item,i) => {\n                if(item.role.indexOf('Admin') > -1){\n                    this.props.handleUserRole(item.role);\n                    localStorage.setItem('selectRole', item.role)\n                }\n            })\n        }\n\n    }\n    render() {\n        const {shouldShowBox, shouldShowCircle} = this.state;\n        const { activeItem } = this.state\n        return (\n            <DeveloperListView devData={this.state.devData} headerLayout={this.headerLayout} hideHeader={this.hideHeader} siteId={\"Organization\"} dataRefresh={this.getDataDeveloper}></DeveloperListView>\n            // <DeveloperListView headerLayout={this.headerLayout}></DeveloperListView>\n        );\n    }\n\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        userToken : (state.user.userToken) ? state.userToken: null,\n        userInfo: state.user.user,\n        computeRefresh : (state.computeRefresh) ? state.computeRefresh: null\n    }\n};\nconst mapDispatchProps = (dispatch) => {\n    return {\n        handleChangeSite: (data) => { dispatch(actions.changeSite(data))},\n        handleInjectData: (data) => { dispatch(actions.injectData(data))},\n        handleInjectDeveloper: (data) => { dispatch(actions.registDeveloper(data))},\n        handleComputeRefresh: (data) => { dispatch(actions.computeRefresh(data))},\n        handleLoadingSpinner: (data) => { dispatch(actions.loadingSpinner(data))},\n        handleRoleInfo: (data) => { dispatch(actions.roleInfo(data))},\n        handleUserInfo: (data) => { dispatch(actions.userInfo(data))},\n        handleAlertInfo: (mode,msg) => { dispatch(actions.alertInfo(mode,msg))},\n        handleDataExist: (data) => { dispatch(actions.dataExist(data))},\n    };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchProps)(sizeMe({ monitorHeight: true })(SiteFourPageOrganization)));\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _d3Geo = require(\"d3-geo\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ZoomableGroup = function (_Component) {\n  _inherits(ZoomableGroup, _Component);\n\n  function ZoomableGroup(props) {\n    _classCallCheck(this, ZoomableGroup);\n\n    var _this = _possibleConstructorReturn(this, (ZoomableGroup.__proto__ || Object.getPrototypeOf(ZoomableGroup)).call(this, props));\n\n    var backdrop = (0, _utils.computeBackdrop)(props.projection, props.backdrop);\n    _this.state = {\n      mouseX: (0, _utils.calculateMousePosition)(\"x\", props.projection, props, props.zoom, 1),\n      mouseY: (0, _utils.calculateMousePosition)(\"y\", props.projection, props, props.zoom, 1),\n      mouseXStart: 0,\n      mouseYStart: 0,\n      isPressed: false,\n      resizeFactorX: 1,\n      resizeFactorY: 1,\n      backdrop: {\n        width: Math.round(backdrop.width),\n        height: Math.round(backdrop.height),\n        x: Math.round(backdrop.x),\n        y: Math.round(backdrop.y)\n      }\n    };\n    _this.handleMouseMove = _this.handleMouseMove.bind(_this);\n    _this.handleMouseUp = _this.handleMouseUp.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleTouchStart = _this.handleTouchStart.bind(_this);\n    _this.handleTouchMove = _this.handleTouchMove.bind(_this);\n    _this.handleResize = _this.handleResize.bind(_this);\n    return _this;\n  }\n\n  _createClass(ZoomableGroup, [{\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(_ref) {\n      var pageX = _ref.pageX,\n          pageY = _ref.pageY;\n      if (this.props.disablePanning) return;\n      if (!this.state.isPressed) return;\n      this.setState({\n        mouseX: pageX - this.state.mouseXStart,\n        mouseY: pageY - this.state.mouseYStart\n      });\n    }\n  }, {\n    key: \"handleTouchMove\",\n    value: function handleTouchMove(_ref2) {\n      var touches = _ref2.touches;\n      this.handleMouseMove(touches[0]);\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp() {\n      if (this.props.disablePanning) return;\n      if (!this.state.isPressed) return;\n      this.setState({\n        isPressed: false\n      });\n      if (!this.props.onMoveEnd) return;\n      var _state = this.state,\n          mouseX = _state.mouseX,\n          mouseY = _state.mouseY,\n          resizeFactorX = _state.resizeFactorX,\n          resizeFactorY = _state.resizeFactorY;\n      var _props = this.props,\n          zoom = _props.zoom,\n          width = _props.width,\n          height = _props.height,\n          projection = _props.projection,\n          onMoveEnd = _props.onMoveEnd;\n      var x = width / 2 - mouseX * resizeFactorX / zoom;\n      var y = height / 2 - mouseY * resizeFactorY / zoom;\n      var newCenter = projection.invert([x, y]);\n      onMoveEnd(newCenter);\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(_ref3) {\n      var pageX = _ref3.pageX,\n          pageY = _ref3.pageY;\n      if (this.props.disablePanning) return;\n      var _state2 = this.state,\n          mouseX = _state2.mouseX,\n          mouseY = _state2.mouseY,\n          resizeFactorX = _state2.resizeFactorX,\n          resizeFactorY = _state2.resizeFactorY;\n      var _props2 = this.props,\n          zoom = _props2.zoom,\n          width = _props2.width,\n          height = _props2.height,\n          projection = _props2.projection,\n          onMoveStart = _props2.onMoveStart;\n      this.setState({\n        isPressed: true,\n        mouseXStart: pageX - mouseX,\n        mouseYStart: pageY - mouseY\n      });\n      if (!onMoveStart) return;\n      var x = width / 2 - mouseX * resizeFactorX / zoom;\n      var y = height / 2 - mouseY * resizeFactorY / zoom;\n      var currentCenter = projection.invert([x, y]);\n      onMoveStart(currentCenter);\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(_ref4) {\n      var touches = _ref4.touches;\n\n      if (touches.length > 1) {\n        this.handleMouseDown(touches[0]);\n      } else {\n        this.handleMouseUp();\n      }\n    }\n  }, {\n    key: \"preventTouchScroll\",\n    value: function preventTouchScroll(evt) {\n      if (evt.touches.length > 1) {\n        evt.preventDefault();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _state3 = this.state,\n          mouseX = _state3.mouseX,\n          mouseY = _state3.mouseY,\n          resizeFactorX = _state3.resizeFactorX,\n          resizeFactorY = _state3.resizeFactorY;\n      var _props3 = this.props,\n          projection = _props3.projection,\n          center = _props3.center,\n          zoom = _props3.zoom;\n      var zoomFactor = nextProps.zoom / zoom;\n      var centerChanged = JSON.stringify(nextProps.center) !== JSON.stringify(center);\n      this.setState({\n        zoom: nextProps.zoom,\n        mouseX: centerChanged ? (0, _utils.calculateMousePosition)(\"x\", nextProps.projection, nextProps, nextProps.zoom, resizeFactorX) : mouseX * zoomFactor,\n        mouseY: centerChanged ? (0, _utils.calculateMousePosition)(\"y\", nextProps.projection, nextProps, nextProps.zoom, resizeFactorY) : mouseY * zoomFactor\n      });\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      var _props4 = this.props,\n          width = _props4.width,\n          height = _props4.height,\n          projection = _props4.projection,\n          zoom = _props4.zoom;\n      var resizeFactorX = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().width, width);\n      var resizeFactorY = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().height, height);\n      var xPercentageChange = 1 / resizeFactorX * this.state.resizeFactorX;\n      var yPercentageChange = 1 / resizeFactorY * this.state.resizeFactorY;\n      this.setState({\n        resizeFactorX: resizeFactorX,\n        resizeFactorY: resizeFactorY,\n        mouseX: this.state.mouseX * xPercentageChange,\n        mouseY: this.state.mouseY * yPercentageChange\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _props5 = this.props,\n          width = _props5.width,\n          height = _props5.height,\n          projection = _props5.projection,\n          zoom = _props5.zoom;\n      var resizeFactorX = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().width, width);\n      var resizeFactorY = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().height, height);\n      this.setState({\n        resizeFactorX: resizeFactorX,\n        resizeFactorY: resizeFactorY,\n        mouseX: (0, _utils.calculateMousePosition)(\"x\", projection, this.props, zoom, resizeFactorX),\n        mouseY: (0, _utils.calculateMousePosition)(\"y\", projection, this.props, zoom, resizeFactorY)\n      });\n      window.addEventListener(\"resize\", this.handleResize);\n      window.addEventListener(\"mouseup\", this.handleMouseUp);\n      this.zoomableGroupNode.addEventListener(\"touchmove\", this.preventTouchScroll);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.handleResize);\n      window.removeEventListener(\"mouseup\", this.handleMouseUp);\n      this.zoomableGroupNode.removeEventListener(\"touchmove\", this.preventTouchScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props6 = this.props,\n          width = _props6.width,\n          height = _props6.height,\n          zoom = _props6.zoom,\n          style = _props6.style,\n          projection = _props6.projection,\n          children = _props6.children;\n      var _state4 = this.state,\n          mouseX = _state4.mouseX,\n          mouseY = _state4.mouseY,\n          resizeFactorX = _state4.resizeFactorX,\n          resizeFactorY = _state4.resizeFactorY;\n      return _react2.default.createElement(\"g\", {\n        className: \"rsm-zoomable-group\",\n        ref: function ref(zoomableGroupNode) {\n          return _this2.zoomableGroupNode = zoomableGroupNode;\n        },\n        transform: \"\\n           translate(\\n             \" + Math.round((width / 2 + resizeFactorX * mouseX) * 100) / 100 + \"\\n             \" + Math.round((height / 2 + resizeFactorY * mouseY) * 100) / 100 + \"\\n           )\\n           scale(\" + zoom + \")\\n           translate(\" + -width / 2 + \" \" + -height / 2 + \")\\n         \",\n        onMouseMove: this.handleMouseMove,\n        onMouseUp: this.handleMouseUp,\n        onMouseDown: this.handleMouseDown,\n        onTouchStart: this.handleTouchStart,\n        onTouchMove: this.handleTouchMove,\n        onTouchEnd: this.handleMouseUp,\n        style: style\n      }, _react2.default.createElement(\"rect\", {\n        x: this.state.backdrop.x,\n        y: this.state.backdrop.y,\n        width: this.state.backdrop.width,\n        height: this.state.backdrop.height,\n        fill: \"transparent\",\n        style: {\n          strokeWidth: 0\n        }\n      }), (0, _utils.createNewChildren)(children, this.props));\n    }\n  }]);\n\n  return ZoomableGroup;\n}(_react.Component);\n\nZoomableGroup.defaultProps = {\n  center: [0, 0],\n  backdrop: {\n    x: [-179.9, 179.9],\n    y: [89.9, -89.9]\n  },\n  zoom: 1,\n  disablePanning: false\n};\nexports.default = ZoomableGroup;","map":{"version":3,"sources":["/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/react-simple-maps/lib/ZoomableGroup.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_d3Geo","_utils","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ZoomableGroup","_Component","_this","getPrototypeOf","backdrop","computeBackdrop","projection","state","mouseX","calculateMousePosition","zoom","mouseY","mouseXStart","mouseYStart","isPressed","resizeFactorX","resizeFactorY","width","Math","round","height","x","y","handleMouseMove","bind","handleMouseUp","handleMouseDown","handleTouchStart","handleTouchMove","handleResize","_ref","pageX","pageY","disablePanning","setState","_ref2","touches","onMoveEnd","_state","_props","newCenter","invert","_ref3","_state2","_props2","onMoveStart","currentCenter","_ref4","preventTouchScroll","evt","preventDefault","componentWillReceiveProps","nextProps","_state3","_props3","center","zoomFactor","centerChanged","JSON","stringify","_props4","calculateResizeFactor","zoomableGroupNode","parentNode","getBoundingClientRect","xPercentageChange","yPercentageChange","componentDidMount","_props5","window","addEventListener","componentWillUnmount","removeEventListener","render","_this2","_props6","style","children","_state4","createElement","className","ref","transform","onMouseMove","onMouseUp","onMouseDown","onTouchStart","onTouchMove","onTouchEnd","fill","strokeWidth","createNewChildren","Component","defaultProps"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _d3Geo = require(\"d3-geo\");\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ZoomableGroup = function (_Component) {\n  _inherits(ZoomableGroup, _Component);\n\n  function ZoomableGroup(props) {\n    _classCallCheck(this, ZoomableGroup);\n\n    var _this = _possibleConstructorReturn(this, (ZoomableGroup.__proto__ || Object.getPrototypeOf(ZoomableGroup)).call(this, props));\n\n    var backdrop = (0, _utils.computeBackdrop)(props.projection, props.backdrop);\n\n    _this.state = {\n      mouseX: (0, _utils.calculateMousePosition)(\"x\", props.projection, props, props.zoom, 1),\n      mouseY: (0, _utils.calculateMousePosition)(\"y\", props.projection, props, props.zoom, 1),\n      mouseXStart: 0,\n      mouseYStart: 0,\n      isPressed: false,\n      resizeFactorX: 1,\n      resizeFactorY: 1,\n      backdrop: {\n        width: Math.round(backdrop.width),\n        height: Math.round(backdrop.height),\n        x: Math.round(backdrop.x),\n        y: Math.round(backdrop.y)\n      }\n    };\n\n    _this.handleMouseMove = _this.handleMouseMove.bind(_this);\n    _this.handleMouseUp = _this.handleMouseUp.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleTouchStart = _this.handleTouchStart.bind(_this);\n    _this.handleTouchMove = _this.handleTouchMove.bind(_this);\n    _this.handleResize = _this.handleResize.bind(_this);\n\n    return _this;\n  }\n\n  _createClass(ZoomableGroup, [{\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(_ref) {\n      var pageX = _ref.pageX,\n          pageY = _ref.pageY;\n\n      if (this.props.disablePanning) return;\n      if (!this.state.isPressed) return;\n      this.setState({\n        mouseX: pageX - this.state.mouseXStart,\n        mouseY: pageY - this.state.mouseYStart\n      });\n    }\n  }, {\n    key: \"handleTouchMove\",\n    value: function handleTouchMove(_ref2) {\n      var touches = _ref2.touches;\n\n      this.handleMouseMove(touches[0]);\n    }\n  }, {\n    key: \"handleMouseUp\",\n    value: function handleMouseUp() {\n      if (this.props.disablePanning) return;\n      if (!this.state.isPressed) return;\n      this.setState({\n        isPressed: false\n      });\n      if (!this.props.onMoveEnd) return;\n      var _state = this.state,\n          mouseX = _state.mouseX,\n          mouseY = _state.mouseY,\n          resizeFactorX = _state.resizeFactorX,\n          resizeFactorY = _state.resizeFactorY;\n      var _props = this.props,\n          zoom = _props.zoom,\n          width = _props.width,\n          height = _props.height,\n          projection = _props.projection,\n          onMoveEnd = _props.onMoveEnd;\n\n      var x = width / 2 - mouseX * resizeFactorX / zoom;\n      var y = height / 2 - mouseY * resizeFactorY / zoom;\n      var newCenter = projection.invert([x, y]);\n      onMoveEnd(newCenter);\n    }\n  }, {\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(_ref3) {\n      var pageX = _ref3.pageX,\n          pageY = _ref3.pageY;\n\n      if (this.props.disablePanning) return;\n      var _state2 = this.state,\n          mouseX = _state2.mouseX,\n          mouseY = _state2.mouseY,\n          resizeFactorX = _state2.resizeFactorX,\n          resizeFactorY = _state2.resizeFactorY;\n      var _props2 = this.props,\n          zoom = _props2.zoom,\n          width = _props2.width,\n          height = _props2.height,\n          projection = _props2.projection,\n          onMoveStart = _props2.onMoveStart;\n\n      this.setState({\n        isPressed: true,\n        mouseXStart: pageX - mouseX,\n        mouseYStart: pageY - mouseY\n      });\n      if (!onMoveStart) return;\n      var x = width / 2 - mouseX * resizeFactorX / zoom;\n      var y = height / 2 - mouseY * resizeFactorY / zoom;\n      var currentCenter = projection.invert([x, y]);\n      onMoveStart(currentCenter);\n    }\n  }, {\n    key: \"handleTouchStart\",\n    value: function handleTouchStart(_ref4) {\n      var touches = _ref4.touches;\n\n      if (touches.length > 1) {\n        this.handleMouseDown(touches[0]);\n      } else {\n        this.handleMouseUp();\n      }\n    }\n  }, {\n    key: \"preventTouchScroll\",\n    value: function preventTouchScroll(evt) {\n      if (evt.touches.length > 1) {\n        evt.preventDefault();\n      }\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _state3 = this.state,\n          mouseX = _state3.mouseX,\n          mouseY = _state3.mouseY,\n          resizeFactorX = _state3.resizeFactorX,\n          resizeFactorY = _state3.resizeFactorY;\n      var _props3 = this.props,\n          projection = _props3.projection,\n          center = _props3.center,\n          zoom = _props3.zoom;\n\n\n      var zoomFactor = nextProps.zoom / zoom;\n      var centerChanged = JSON.stringify(nextProps.center) !== JSON.stringify(center);\n\n      this.setState({\n        zoom: nextProps.zoom,\n        mouseX: centerChanged ? (0, _utils.calculateMousePosition)(\"x\", nextProps.projection, nextProps, nextProps.zoom, resizeFactorX) : mouseX * zoomFactor,\n        mouseY: centerChanged ? (0, _utils.calculateMousePosition)(\"y\", nextProps.projection, nextProps, nextProps.zoom, resizeFactorY) : mouseY * zoomFactor\n      });\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      var _props4 = this.props,\n          width = _props4.width,\n          height = _props4.height,\n          projection = _props4.projection,\n          zoom = _props4.zoom;\n\n\n      var resizeFactorX = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().width, width);\n      var resizeFactorY = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().height, height);\n\n      var xPercentageChange = 1 / resizeFactorX * this.state.resizeFactorX;\n      var yPercentageChange = 1 / resizeFactorY * this.state.resizeFactorY;\n\n      this.setState({\n        resizeFactorX: resizeFactorX,\n        resizeFactorY: resizeFactorY,\n        mouseX: this.state.mouseX * xPercentageChange,\n        mouseY: this.state.mouseY * yPercentageChange\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _props5 = this.props,\n          width = _props5.width,\n          height = _props5.height,\n          projection = _props5.projection,\n          zoom = _props5.zoom;\n\n\n      var resizeFactorX = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().width, width);\n      var resizeFactorY = (0, _utils.calculateResizeFactor)(this.zoomableGroupNode.parentNode.getBoundingClientRect().height, height);\n\n      this.setState({\n        resizeFactorX: resizeFactorX,\n        resizeFactorY: resizeFactorY,\n        mouseX: (0, _utils.calculateMousePosition)(\"x\", projection, this.props, zoom, resizeFactorX),\n        mouseY: (0, _utils.calculateMousePosition)(\"y\", projection, this.props, zoom, resizeFactorY)\n      });\n\n      window.addEventListener(\"resize\", this.handleResize);\n      window.addEventListener(\"mouseup\", this.handleMouseUp);\n      this.zoomableGroupNode.addEventListener(\"touchmove\", this.preventTouchScroll);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener(\"resize\", this.handleResize);\n      window.removeEventListener(\"mouseup\", this.handleMouseUp);\n      this.zoomableGroupNode.removeEventListener(\"touchmove\", this.preventTouchScroll);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _props6 = this.props,\n          width = _props6.width,\n          height = _props6.height,\n          zoom = _props6.zoom,\n          style = _props6.style,\n          projection = _props6.projection,\n          children = _props6.children;\n      var _state4 = this.state,\n          mouseX = _state4.mouseX,\n          mouseY = _state4.mouseY,\n          resizeFactorX = _state4.resizeFactorX,\n          resizeFactorY = _state4.resizeFactorY;\n\n\n      return _react2.default.createElement(\n        \"g\",\n        { className: \"rsm-zoomable-group\",\n          ref: function ref(zoomableGroupNode) {\n            return _this2.zoomableGroupNode = zoomableGroupNode;\n          },\n          transform: \"\\n           translate(\\n             \" + Math.round((width / 2 + resizeFactorX * mouseX) * 100) / 100 + \"\\n             \" + Math.round((height / 2 + resizeFactorY * mouseY) * 100) / 100 + \"\\n           )\\n           scale(\" + zoom + \")\\n           translate(\" + -width / 2 + \" \" + -height / 2 + \")\\n         \",\n          onMouseMove: this.handleMouseMove,\n          onMouseUp: this.handleMouseUp,\n          onMouseDown: this.handleMouseDown,\n          onTouchStart: this.handleTouchStart,\n          onTouchMove: this.handleTouchMove,\n          onTouchEnd: this.handleMouseUp,\n          style: style\n        },\n        _react2.default.createElement(\"rect\", {\n          x: this.state.backdrop.x,\n          y: this.state.backdrop.y,\n          width: this.state.backdrop.width,\n          height: this.state.backdrop.height,\n          fill: \"transparent\",\n          style: { strokeWidth: 0 }\n        }),\n        (0, _utils.createNewChildren)(children, this.props)\n      );\n    }\n  }]);\n\n  return ZoomableGroup;\n}(_react.Component);\n\nZoomableGroup.defaultProps = {\n  center: [0, 0],\n  backdrop: {\n    x: [-179.9, 179.9],\n    y: [89.9, -89.9]\n  },\n  zoom: 1,\n  disablePanning: false\n};\n\nexports.default = ZoomableGroup;"]},"metadata":{},"sourceType":"script"}
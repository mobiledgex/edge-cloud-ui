{"ast":null,"code":"import _classCallCheck from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/src/charts/bubbleGroup.js\";\nimport React from 'react';\nimport * as d3 from 'd3';\nimport './styles.css';\nvar data = {\n  \"name\": \"A1\",\n  \"children\": [{\n    \"name\": \"B1\",\n    \"children\": [{\n      \"name\": \"Master\",\n      \"value\": 400\n    }, {\n      \"name\": \"Node\",\n      \"value\": 200\n    }, {\n      \"name\": \"Node\",\n      \"value\": 200\n    }, {\n      \"name\": \"Node\",\n      \"value\": 200\n    }, {\n      \"name\": \"Node\",\n      \"value\": 200\n    }]\n  }]\n};\n\nvar BubbleGroup =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BubbleGroup, _React$Component);\n\n  function BubbleGroup() {\n    _classCallCheck(this, BubbleGroup);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(BubbleGroup).apply(this, arguments));\n  }\n\n  _createClass(BubbleGroup, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.makeNode();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      this.clearNode();\n      this.makeNode();\n    }\n  }, {\n    key: \"makeNode\",\n    value: function makeNode() {\n      if (this.props.data) {\n        data = this.props.data;\n      }\n\n      var packLayout = d3.pack().size([300, 300]);\n      var rootNode = d3.hierarchy(data);\n      rootNode.sum(function (d) {\n        return d.value;\n      });\n      packLayout(rootNode);\n      var nodes = d3.select('svg g').selectAll('g').data(rootNode.descendants()).enter().append('g').attr('transform', function (d) {\n        return 'translate(' + [d.x, d.y] + ')';\n      });\n      nodes.append('circle').attr('r', function (d) {\n        return d.r;\n      }).style('fill', function (d) {\n        return d.data.color;\n      }).style('opacity', 0.6);\n      nodes.append('text').attr('dy', 4).text(function (d) {\n        return d.children === undefined ? d.data.name : '';\n      });\n    }\n  }, {\n    key: \"clearNode\",\n    value: function clearNode() {\n      var nodes = d3.select('svg g').selectAll('g').remove();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"svg\", {\n        className: \"chart-circle\",\n        width: \"300\",\n        height: \"300\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"text\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.props.data ? this.props.data.name : ''), React.createElement(\"g\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return BubbleGroup;\n}(React.Component);\n\nexport { BubbleGroup as default };","map":{"version":3,"sources":["/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/src/charts/bubbleGroup.js"],"names":["React","d3","data","BubbleGroup","makeNode","nextProps","nextContext","clearNode","props","packLayout","pack","size","rootNode","hierarchy","sum","d","value","nodes","select","selectAll","descendants","enter","append","attr","x","y","r","style","color","text","children","undefined","name","remove","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport * as d3 from 'd3';\nimport './styles.css';\n\nvar data = {\n    \"name\": \"A1\",\n    \"children\": [\n        {\n            \"name\": \"B1\",\n            \"children\": [\n                {\n                    \"name\": \"Master\",\n                    \"value\": 400\n                },\n                {\n                    \"name\": \"Node\",\n                    \"value\": 200\n                },\n                {\n                    \"name\": \"Node\",\n                    \"value\": 200\n                },\n                {\n                    \"name\": \"Node\",\n                    \"value\": 200\n                },\n                {\n                    \"name\": \"Node\",\n                    \"value\": 200\n                }\n            ]\n        }\n    ]\n};\nexport default class BubbleGroup extends React.Component {\n\n\n    componentDidMount() {\n        this.makeNode();\n    }\n    componentWillReceiveProps(nextProps, nextContext) {\n        this.clearNode();\n        this.makeNode();\n    }\n    makeNode() {\n        if(this.props.data) {\n            data = this.props.data;\n        }\n        var packLayout = d3.pack()\n            .size([300, 300]);\n\n        var rootNode = d3.hierarchy(data)\n\n        rootNode.sum(function(d) {\n            return d.value;\n        });\n\n        packLayout(rootNode);\n\n        var nodes = d3.select('svg g')\n            .selectAll('g')\n            .data(rootNode.descendants())\n            .enter()\n            .append('g')\n            .attr('transform', function(d) {return 'translate(' + [d.x, d.y] + ')'})\n\n        nodes\n            .append('circle')\n            .attr('r', function(d) { return d.r; })\n            .style('fill', function(d) { return d.data.color; })\n            .style('opacity', 0.6)\n\n        nodes\n            .append('text')\n            .attr('dy', 4)\n            .text(function(d) {\n                return d.children === undefined ? d.data.name : '';\n            })\n    }\n    clearNode() {\n        var nodes = d3.select('svg g')\n            .selectAll('g')\n            .remove()\n\n\n    }\n    render() {\n        return (\n            <svg className=\"chart-circle\" width=\"300\" height=\"300\">\n                <text>{this.props.data ? this.props.data.name : ''}</text>\n                <g></g>\n            </svg>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/src/components/reduxForm/RegistryUserForm.js\";\nimport React, { Fragment } from \"react\";\nimport { Field, initialize, reduxForm } from \"redux-form\";\nimport { Form, Input, Message } from \"semantic-ui-react\";\nimport './styles.css';\nvar _errors = null;\n\nvar validate = function validate(values) {\n  var errors = {};\n\n  if (!values.username) {\n    errors.username = 'Required';\n  } else if (!/^[-_0-9a-zA-Z .&,!]+$/.test(values.username)) {\n    errors.username = 'Invalid characters in user name';\n  }\n\n  if (!values.password) {\n    errors.password = 'Required';\n  } else if (values.password.length < 8) {\n    errors.password = 'Must be at least 8 characters';\n  }\n\n  if (!values.confirmpassword) {\n    errors.confirmpassword = 'Required';\n  } else if (values.password !== values.confirmpassword) {\n    errors.confirmpassword = 'Password and Confirm Password do not match';\n  }\n\n  if (!values.email) {\n    errors.email = 'Required';\n  } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n    errors.email = 'Invalid email address';\n  }\n\n  _errors = errors;\n  return errors;\n};\n\nvar renderCheckbox = function renderCheckbox(field) {\n  return React.createElement(Form.Checkbox, {\n    checked: !!field.input.value,\n    name: field.input.name,\n    label: field.label,\n    onChange: function onChange(e, _ref) {\n      var checked = _ref.checked;\n      return field.input.onChange(checked);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  });\n};\n\nvar renderRadio = function renderRadio(field) {\n  return React.createElement(Form.Radio, {\n    checked: field.input.value === field.radioValue,\n    label: field.label,\n    name: field.input.name,\n    onChange: function onChange(e, _ref2) {\n      var checked = _ref2.checked;\n      return field.input.onChange(field.radioValue);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  });\n};\n\nvar renderSelect = function renderSelect(field) {\n  return React.createElement(Form.Select, {\n    label: field.label,\n    name: field.input.name,\n    onChange: function onChange(e, _ref3) {\n      var value = _ref3.value;\n      return field.input.onChange(value);\n    },\n    options: field.options,\n    placeholder: field.placeholder,\n    value: field.input.value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  });\n};\n\nvar renderTextArea = function renderTextArea(field) {\n  return React.createElement(Form.TextArea, Object.assign({}, field.input, {\n    label: field.label,\n    placeholder: field.placeholder,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }));\n};\n\nvar renderInputNum = function renderInputNum(field) {\n  return React.createElement(Form.Field, Object.assign({}, field.input, {\n    type: field.type // placeholder={field.placeholder}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, field.label), React.createElement(Input, {\n    type: \"number\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }));\n};\n\nvar renderInput = function renderInput(field) {\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(Form.Input, Object.assign({}, field.input, {\n    type: field.type,\n    label: field.label,\n    placeholder: field.placeholder,\n    value: field.initialValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  })), field.meta.touched && (field.meta.error && React.createElement(\"span\", {\n    className: \"text-danger login-danger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, field.meta.error) || field.meta.warning && React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, field.meta.warning)));\n};\n\nvar _props = null;\nvar _self = null;\n\nvar RegistryUserForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(RegistryUserForm, _React$Component);\n\n  function RegistryUserForm() {\n    var _this;\n\n    _classCallCheck(this, RegistryUserForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(RegistryUserForm).call(this));\n\n    _this.onHandleSubmit = function (a, b) {\n      //if  any has error as validation\n      _this.props.handleSubmit();\n\n      if (_errors && Object.keys(_errors).length) {\n        return;\n      }\n\n      setTimeout(function () {\n        _self.props.dispatch(initialize('profile', {\n          submitSucceeded: false\n        }));\n      }, 1000);\n    };\n\n    _this.onChangeField = function (a, b) {\n      if (a.target.name === 'username') _this.usernameValue = null;\n      if (a.target.name === 'email') _this.emailValue = null;\n      localStorage.setItem('userInfo', null);\n    };\n\n    _self = _assertThisInitialized(_this);\n    _this.state = {\n      lastProps: {}\n    };\n    _this.username = 'Username';\n    _this.email = 'Email';\n    _this.usernameValue = null;\n    _this.emailValue = null;\n    return _this;\n  }\n\n  _createClass(RegistryUserForm, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps, nextContext) {\n      this.setState({\n        lastProps: nextProps\n      }); //TODO : 20190906 이전 프롭스 다시 받아서 input filed에 다시 넣기\n\n      var userInfo = localStorage.getItem('userInfo');\n      var userInfoObj = userInfo ? JSON.parse(userInfo) : null;\n\n      if (userInfoObj) {\n        this.usernameValue = userInfoObj.username;\n        this.emailValue = userInfoObj.email;\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {//console.log('20190906 didmount reg user form..'+JSON.stringify(this.props))\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          handleSubmit = _this$props.handleSubmit,\n          reset = _this$props.reset;\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Form, {\n        onSubmit: this.onHandleSubmit,\n        className: \"fieldForm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(Form.Group, {\n        widths: \"equal\",\n        style: {\n          flexDirection: 'column',\n          alignContent: 'space-around'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(Field, {\n        className: \"fieldInput\",\n        component: renderInput,\n        name: \"username\",\n        type: \"input\",\n        placeholder: this.username,\n        initialValue: this.usernameValue,\n        onChange: this.onChangeField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(Field, {\n        className: \"fieldInput\",\n        component: renderInput,\n        name: \"password\",\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), React.createElement(Field, {\n        className: \"fieldInput\",\n        component: renderInput,\n        name: \"confirmpassword\",\n        type: \"password\",\n        placeholder: \"Confirm Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), React.createElement(Field, {\n        className: \"fieldInput\",\n        component: renderInput,\n        name: \"email\",\n        type: \"email\",\n        placeholder: this.email,\n        initialValue: this.emailValue,\n        onChange: this.onChangeField,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      })), React.createElement(Form.Group, {\n        className: \"submitButtonGroup\",\n        id: \"submitButtonGroup\",\n        inline: true,\n        style: {\n          flexDirection: 'column',\n          marginBottom: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(Form.Button, {\n        primary: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Sign Up\"))));\n    }\n  }]);\n\n  return RegistryUserForm;\n}(React.Component);\n\n;\nexport default reduxForm({\n  form: \"profile\",\n  validate: validate\n})(RegistryUserForm);","map":{"version":3,"sources":["/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/src/components/reduxForm/RegistryUserForm.js"],"names":["React","Fragment","Field","initialize","reduxForm","Form","Input","Message","_errors","validate","values","errors","username","test","password","length","confirmpassword","email","renderCheckbox","field","input","value","name","label","e","checked","onChange","renderRadio","radioValue","renderSelect","options","placeholder","renderTextArea","renderInputNum","type","renderInput","initialValue","meta","touched","error","warning","_props","_self","RegistryUserForm","onHandleSubmit","a","b","props","handleSubmit","Object","keys","setTimeout","dispatch","submitSucceeded","onChangeField","target","usernameValue","emailValue","localStorage","setItem","state","lastProps","nextProps","nextContext","setState","userInfo","getItem","userInfoObj","JSON","parse","reset","flexDirection","alignContent","marginBottom","Component","form"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport {Field, initialize, reduxForm} from \"redux-form\";\nimport {Form, Input, Message} from \"semantic-ui-react\";\nimport './styles.css';\n\n\nlet _errors = null;\nconst validate = values => {\n    const errors = {}\n    if (!values.username) {\n        errors.username = 'Required'\n    } else if(!/^[-_0-9a-zA-Z .&,!]+$/.test(values.username)){\n        errors.username = 'Invalid characters in user name'\n    }\n\n    if (!values.password) {\n        errors.password = 'Required'\n    } else if (values.password.length < 8) {\n        errors.password = 'Must be at least 8 characters'\n    }\n\n    if (!values.confirmpassword) {\n        errors.confirmpassword = 'Required'\n    } else if (values.password !== values.confirmpassword) {\n        errors.confirmpassword = 'Password and Confirm Password do not match'\n    }\n\n\n    if (!values.email) {\n        errors.email = 'Required'\n    } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n        errors.email = 'Invalid email address'\n    }\n    _errors = errors;\n    return errors\n}\n\nconst renderCheckbox = field => (\n    <Form.Checkbox\n        checked={!!field.input.value}\n        name={field.input.name}\n        label={field.label}\n        onChange={(e, { checked }) => field.input.onChange(checked)}\n    />\n);\n\nconst renderRadio = field => (\n    <Form.Radio\n        checked={field.input.value === field.radioValue}\n        label={field.label}\n        name={field.input.name}\n        onChange={(e, { checked }) => field.input.onChange(field.radioValue)}\n    />\n);\n\nconst renderSelect = field => (\n    <Form.Select\n        label={field.label}\n        name={field.input.name}\n        onChange={(e, { value }) => field.input.onChange(value)}\n        options={field.options}\n        placeholder={field.placeholder}\n        value={field.input.value}\n    />\n);\n\nconst renderTextArea = field => (\n    <Form.TextArea\n        {...field.input}\n        label={field.label}\n        placeholder={field.placeholder}\n    />\n);\nconst renderInputNum = field => (\n    <Form.Field\n        {...field.input}\n        type={field.type}\n        // placeholder={field.placeholder}\n    >\n        <label>{field.label}</label>\n        <Input type=\"number\"></Input>\n    </Form.Field>\n);\nconst renderInput = field => (\n    <div>\n        <Form.Input\n            {...field.input}\n            type={field.type}\n            label={field.label}\n            placeholder={field.placeholder}\n            value={field.initialValue}\n        />\n        {field.meta.touched && ((field.meta.error && <span className=\"text-danger login-danger\">{field.meta.error}</span>) || (field.meta.warning && <span>{field.meta.warning}</span>))}\n    </div>\n);\n\nlet _props = null;\nlet _self = null;\nclass RegistryUserForm extends React.Component{\n    constructor() {\n        super();\n        _self = this;\n        this.state = {\n            lastProps: {}\n        }\n        this.username = 'Username';\n        this.email = 'Email';\n        this.usernameValue = null;\n        this.emailValue = null\n    }\n    onHandleSubmit =(a,b)=> {\n        //if  any has error as validation\n        this.props.handleSubmit();\n        if(_errors && Object.keys(_errors).length) {\n            \n            return;\n\n        }\n        setTimeout(() => {\n            _self.props.dispatch(initialize('profile', {\n                submitSucceeded: false\n            }))\n        },1000);\n\n    }\n    onChangeField =(a, b) => {\n        if(a.target.name === 'username') this.usernameValue = null;\n        if(a.target.name === 'email') this.emailValue = null;\n        localStorage.setItem('userInfo',null);\n    }\n    componentWillReceiveProps(nextProps, nextContext) {\n        this.setState({lastProps:nextProps})\n        //TODO : 20190906 이전 프롭스 다시 받아서 input filed에 다시 넣기\n\n        let userInfo = localStorage.getItem('userInfo');\n        let userInfoObj = (userInfo)?JSON.parse(userInfo):null;\n        if(userInfoObj) {\n            this.usernameValue = userInfoObj.username;\n            this.emailValue = userInfoObj.email;\n        }\n\n    }\n\n    componentDidMount() {\n        //console.log('20190906 didmount reg user form..'+JSON.stringify(this.props))\n    }\n\n    render() {\n        const { handleSubmit, reset } = this.props;\n\n        return (\n            <Fragment>\n                <Form onSubmit={this.onHandleSubmit} className={\"fieldForm\"}>\n                    <Form.Group widths=\"equal\" style={{flexDirection:'column', alignContent:'space-around'}}>\n                        <Field className={\"fieldInput\"}\n                               component={renderInput}\n                               name=\"username\"\n                               type=\"input\"\n                               placeholder={this.username}\n                               initialValue={this.usernameValue}\n                               onChange={this.onChangeField}\n                        />\n                        <Field className={\"fieldInput\"}\n                               component={renderInput}\n                               name=\"password\"\n                               type=\"password\"\n                               placeholder=\"Password\"\n                        />\n                        <Field className={\"fieldInput\"}\n                               component={renderInput}\n                               name=\"confirmpassword\"\n                               type=\"password\"\n                               placeholder=\"Confirm Password\"\n                        />\n                        <Field className={\"fieldInput\"}\n                               component={renderInput}\n                               name=\"email\"\n                               type=\"email\"\n                               placeholder={this.email}\n                                initialValue={this.emailValue}\n                               onChange={this.onChangeField}\n                        />\n                    </Form.Group>\n                    <Form.Group className={\"submitButtonGroup\"} id={\"submitButtonGroup\"} inline style={{flexDirection:'column', marginBottom:0}}>\n                        <Form.Button primary>Sign Up</Form.Button>\n                    </Form.Group>\n                </Form>\n            </Fragment>\n        );\n    }\n\n};\n\nexport default reduxForm({\n    form: \"profile\",\n    validate,\n})(RegistryUserForm);\n"]},"metadata":{},"sourceType":"module"}
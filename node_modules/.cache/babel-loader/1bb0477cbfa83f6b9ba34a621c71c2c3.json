{"ast":null,"code":"'use strict';\n\nvar buildURL = require('./../helpers/buildURL');\n/**\n * Callback index.\n */\n\n\nvar count = 0;\n/**\n * Noop function.\n */\n\nfunction noop() {}\n/**\n * JSONP handler\n *\n * Options:\n *  - param {String} qs parameter (`callback`)\n *  - prefix {String} qs parameter (`__jp`)\n *  - name {String} qs parameter (`prefix` + incr)\n *  - timeout {Number} how long after a timeout error is emitted (`60000`)\n *\n * @param {String} url\n * @param {Object|Function} optional options / callback\n */\n\n\nfunction jsonp(opts) {\n  var prefix = opts.prefix || '__jp'; // use the callback name that was passed if one was provided.\n  // otherwise generate a unique name by incrementing our counter.\n\n  var id = opts.name || prefix + count++;\n  var timeout = opts.timeout || 60000;\n  var cacheFlag = opts.cache || false;\n  var enc = encodeURIComponent;\n  var target = document.getElementsByTagName('script')[0] || document.head;\n  var script;\n  var timer;\n\n  function cleanup() {\n    if (script.parentNode) script.parentNode.removeChild(script);\n    window[id] = noop;\n    if (timer) clearTimeout(timer);\n  }\n\n  if (!opts.url) {\n    throw new TypeError('url is null or not defined');\n  }\n\n  return new Promise(function (resolve, reject) {\n    try {\n      if (timeout) {\n        timer = setTimeout(function () {\n          cleanup();\n          reject(new Error('Request timed out'));\n        }, timeout);\n      }\n\n      window[id] = function (data) {\n        cleanup(); //Throws a `Cancel` if cancellation has been requested.\n\n        if (opts.cancelToken) {\n          opts.cancelToken.throwIfRequested();\n        }\n\n        resolve(data);\n      }; // add params\n\n\n      opts.url = buildURL(opts.url, opts.params, opts.paramsSerializer); // add callback\n\n      opts.url += (opts.url.indexOf('?') === -1 ? '?' : '&') + 'callback=' + enc(id); // cache\n\n      !cacheFlag && (opts.url += '&_=' + new Date().getTime()); // create script\n\n      script = document.createElement('script');\n      script.src = opts.url;\n      target.parentNode.insertBefore(script, target);\n    } catch (e) {\n      reject(e);\n    }\n  });\n}\n\nmodule.exports = jsonp;","map":{"version":3,"sources":["/Users/kyungjoon/react_pjt/edge-cloud-ui/node_modules/axios-jsonp-pro/lib/core/jsonp.js"],"names":["buildURL","require","count","noop","jsonp","opts","prefix","id","name","timeout","cacheFlag","cache","enc","encodeURIComponent","target","document","getElementsByTagName","head","script","timer","cleanup","parentNode","removeChild","window","clearTimeout","url","TypeError","Promise","resolve","reject","setTimeout","Error","data","cancelToken","throwIfRequested","params","paramsSerializer","indexOf","Date","getTime","createElement","src","insertBefore","e","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar buildURL = require('./../helpers/buildURL');\n/**\n * Callback index.\n */\n\nvar count = 0;\n\n/**\n * Noop function.\n */\n\nfunction noop() {}\n\n/**\n * JSONP handler\n *\n * Options:\n *  - param {String} qs parameter (`callback`)\n *  - prefix {String} qs parameter (`__jp`)\n *  - name {String} qs parameter (`prefix` + incr)\n *  - timeout {Number} how long after a timeout error is emitted (`60000`)\n *\n * @param {String} url\n * @param {Object|Function} optional options / callback\n */\n\nfunction jsonp(opts) {\n\tvar prefix = opts.prefix || '__jp';\n\n\t// use the callback name that was passed if one was provided.\n\t// otherwise generate a unique name by incrementing our counter.\n\tvar id = opts.name || prefix + count++;\n\n\tvar timeout = opts.timeout || 60000;\n\tvar cacheFlag = opts.cache || false;\n\tvar enc = encodeURIComponent;\n\tvar target = document.getElementsByTagName('script')[0] || document.head;\n\tvar script;\n\tvar timer;\n\n\tfunction cleanup() {\n\t\tif (script.parentNode) script.parentNode.removeChild(script);\n\t\twindow[id] = noop;\n\t\tif (timer) clearTimeout(timer);\n\t}\n\n\tif (!opts.url) {\n\t\tthrow new TypeError('url is null or not defined');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\ttry {\n\t\t\tif (timeout) {\n\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\tcleanup();\n\t\t\t\t\treject(new Error('Request timed out'));\n\t\t\t\t}, timeout);\n\t\t\t}\n\n\t\t\twindow[id] = function (data) {\n\t\t\t\tcleanup();\n\n\t\t\t\t//Throws a `Cancel` if cancellation has been requested.\n\t\t\t\tif (opts.cancelToken) {\n\t\t\t\t\topts.cancelToken.throwIfRequested();\n\t\t\t\t}\n\n\t\t\t\tresolve(data);\n\t\t\t};\n\n\t\t\t// add params\n\t\t\topts.url = buildURL(opts.url, opts.params, opts.paramsSerializer);\n\t\t\t// add callback\n\t\t\topts.url +=\n\t\t\t\t(opts.url.indexOf('?') === -1 ? '?' : '&') +\n\t\t\t\t'callback=' +\n\t\t\t\tenc(id);\n\t\t\t// cache\n\t\t\t!cacheFlag && (opts.url += '&_=' + new Date().getTime());\n\n\t\t\t// create script\n\t\t\tscript = document.createElement('script');\n\t\t\tscript.src = opts.url;\n\t\t\ttarget.parentNode.insertBefore(script, target);\n\t\t} catch (e) {\n\t\t\treject(e);\n\t\t}\n\t});\n}\n\nmodule.exports = jsonp;"]},"metadata":{},"sourceType":"script"}
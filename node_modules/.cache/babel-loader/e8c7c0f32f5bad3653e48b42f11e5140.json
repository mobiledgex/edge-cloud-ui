{"ast":null,"code":"import axios from 'axios-jsonp-pro';\nimport FormatDmeMethod from \"./formatter/formatDmeMethod\";\nimport qs from \"qs\";\nvar hostname = window.location.hostname;\nvar serviceDomain = 'https://mc.mobiledgex.net:9900';\nvar ServerUrl = 'https://' + hostname + ':3030';\n\nif (process.env.REACT_APP_API_USE_SERVER_SUFFIX === 'true') {\n  ServerUrl = 'https://' + hostname + '/server';\n}\n\nexport function setDomain(domain) {\n  serviceDomain = domain;\n}\nexport function getMethodCall(resource, body, callback, self) {\n  axios.post(ServerUrl + '/masterControl', qs.stringify({\n    service: resource,\n    serviceBody: body,\n    serviceDomain: serviceDomain\n  })).then(function (response) {\n    var parseData = null;\n\n    if (response) {\n      parseData = JSON.parse(JSON.stringify(response));\n    } else {}\n\n    if (parseData) callback(parseData, self);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function getCurrentUserInfo(resource, body, callback, self) {\n  axios.post(ServerUrl + '/' + resource, qs.stringify({\n    service: resource,\n    serviceBody: body,\n    serviceDomain: serviceDomain\n  })).then(function (response) {\n    var parseData = null;\n\n    if (response.data) {\n      //test expired 20190804\n      //parseData = JSON.parse(JSON.stringify({data:{message:'expired jwt'}}));\n      parseData = JSON.parse(JSON.stringify(response));\n    } else {}\n\n    if (parseData) callback(parseData, resource, self);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n/*\n\n */\n\nexport function createUser(resource, body, callback, self) {\n  axios.post(ServerUrl + '/' + resource, qs.stringify({\n    service: resource,\n    serviceBody: body,\n    serviceDomain: serviceDomain\n  })).then(function (response) {\n    var parseData = null;\n\n    if (response) {\n      parseData = JSON.parse(JSON.stringify(response));\n    } else {}\n\n    if (parseData.data) {\n      if (typeof parseData.data === 'string' && parseData.data.indexOf(\"}{\") > 0) {\n        parseData.data.replace(\"}{\", \"},{\");\n        parseData.data = JSON.parse(parseData.data);\n      } else {}\n\n      callback(parseData, body, self);\n    } else {\n      if (parseData.message) {} else {\n        callback(parseData, body, self);\n      }\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function resetPassword(resource, body, callback, self) {\n  axios.post(ServerUrl + '/' + resource, qs.stringify({\n    service: resource,\n    serviceBody: body,\n    serviceDomain: serviceDomain\n  })).then(function (response) {\n    var parseData = null;\n\n    if (response) {\n      parseData = JSON.parse(JSON.stringify(response.data));\n    } else {}\n\n    if (parseData) {\n      if (parseData.message) {\n        callback(parseData, resource, self);\n      } else {}\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\n/*\nhttp POST 127.0.0.1:9900/api/v1/resendverify\nemail=me@gmail.com\ncallbackurl=\"https://console.mobiledgex.net/verify\"\n */\n\nexport function resendVerify(resource, body, callback, self) {\n  axios.post(ServerUrl + '/' + resource, qs.stringify({\n    service: resource,\n    serviceBody: body,\n    serviceDomain: serviceDomain\n  })).then(function (response) {\n    var parseData = null;\n\n    if (response) {\n      parseData = JSON.parse(JSON.stringify(response.data));\n    } else {}\n\n    if (parseData) {\n      if (parseData.message) {\n        callback(parseData, resource, self);\n      } else {}\n    }\n  }).catch(function (error) {\n    console.log(error);\n  });\n}\nexport function example(resource, body, callback) {\n  axios.post(ServerUrl + '/register', qs.stringify({\n    service: resource,\n    serviceBody: body,\n    serviceDomain: serviceDomain\n  })).then(function (response) {\n    console.log('response  registry new obj result-', response);\n    callback(response);\n  }).catch(function (error) {\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["/Users/kyungjoon/react_pjt/edge-cloud-ui_current-working/src/services/service_login_api.js"],"names":["axios","FormatDmeMethod","qs","hostname","window","location","serviceDomain","ServerUrl","process","env","REACT_APP_API_USE_SERVER_SUFFIX","setDomain","domain","getMethodCall","resource","body","callback","self","post","stringify","service","serviceBody","then","response","parseData","JSON","parse","catch","error","console","log","getCurrentUserInfo","data","createUser","indexOf","replace","message","resetPassword","resendVerify","example"],"mappings":"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","sourcesContent":["\nimport axios from 'axios-jsonp-pro';\n\nimport FormatDmeMethod from \"./formatter/formatDmeMethod\";\nimport qs from \"qs\";\n\nlet hostname = window.location.hostname;\nlet serviceDomain = 'https://mc.mobiledgex.net:9900';\nlet ServerUrl = 'https://'+hostname+':3030';\n\nif(process.env.REACT_APP_API_USE_SERVER_SUFFIX === 'true') {\n    ServerUrl = 'https://'+hostname+'/server';\n}\nexport function setDomain(domain) {\n    serviceDomain = domain;\n}\n\nexport function getMethodCall(resource, body, callback, self) {\n\n    axios.post(ServerUrl+'/masterControl', qs.stringify({\n        service: resource,\n        serviceBody:body,\n        serviceDomain:serviceDomain\n    }))\n        .then(function (response) {\n            let parseData = null;\n            if(response) {\n                parseData = JSON.parse(JSON.stringify(response));\n            } else {\n\n            }\n            if(parseData) callback(parseData, self);\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n\n}\n\nexport function getCurrentUserInfo(resource, body, callback, self) {\n\n    axios.post(ServerUrl+'/'+resource, qs.stringify({\n        service: resource,\n        serviceBody:body,\n        serviceDomain:serviceDomain\n    }))\n        .then(function (response) {\n            let parseData = null;\n            if(response.data) {\n                //test expired 20190804\n                //parseData = JSON.parse(JSON.stringify({data:{message:'expired jwt'}}));\n                parseData = JSON.parse(JSON.stringify(response));\n\n            } else {\n            }\n            if(parseData) callback(parseData, resource, self);\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n\n}\n\n\n/*\n\n */\nexport function createUser(resource, body, callback, self) {\n\n    axios.post(ServerUrl+'/'+resource, qs.stringify({\n        service: resource,\n        serviceBody:body,\n        serviceDomain:serviceDomain\n    }))\n        .then(function (response) {\n            let parseData = null;\n            if(response) {\n                parseData = JSON.parse(JSON.stringify(response));\n            } else {\n\n            }\n            if(parseData.data) {\n                if(typeof parseData.data === 'string' && parseData.data.indexOf(\"}{\") > 0) {\n                    parseData.data.replace(\"}{\", \"},{\")\n                    parseData.data = JSON.parse(parseData.data)\n                } else {\n\n                }\n                callback(parseData, body, self);\n            } else {\n                if(parseData.message){\n\n                } else {\n                    callback(parseData, body, self);\n                }\n            }\n\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n\n}\nexport function resetPassword(resource, body, callback, self) {\n\n    axios.post(ServerUrl+'/'+resource, qs.stringify({\n        service: resource,\n        serviceBody:body,\n        serviceDomain:serviceDomain\n    }))\n        .then(function (response) {\n            let parseData = null;\n            if(response) {\n                parseData = JSON.parse(JSON.stringify(response.data));\n            } else {\n\n            }\n            if(parseData) {\n                if(parseData.message){\n                    callback(parseData, resource, self);\n                } else {\n                }\n            }\n\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n\n}\n\n/*\nhttp POST 127.0.0.1:9900/api/v1/resendverify\nemail=me@gmail.com\ncallbackurl=\"https://console.mobiledgex.net/verify\"\n */\nexport function resendVerify(resource, body, callback, self) {\n\n    axios.post(ServerUrl+'/'+resource, qs.stringify({\n        service: resource,\n        serviceBody:body,\n        serviceDomain:serviceDomain\n    }))\n        .then(function (response) {\n            let parseData = null;\n            if(response) {\n                parseData = JSON.parse(JSON.stringify(response.data));\n            } else {\n\n            }\n            if(parseData) {\n                if(parseData.message){\n                    callback(parseData, resource, self);\n                } else {\n                }\n            }\n\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n\n\n}\n\nexport function example(resource, body, callback) {\n    axios.post(ServerUrl+'/register',qs.stringify({\n        service: resource,\n        serviceBody:body,\n        serviceDomain:serviceDomain\n    }))\n        .then(function (response) {\n            console.log('response  registry new obj result-',response);\n            callback(response)\n        })\n        .catch(function (error) {\n            console.log(error);\n        });\n}\n\n"]},"metadata":{},"sourceType":"module"}